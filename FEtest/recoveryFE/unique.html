<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gestione Tabelle</title>
  <link rel="stylesheet" href="unique.css" />
</head>
<body>

  <nav>
    <a href="#createTable">Crea Tabella</a>
    <a href="#addRow">Aggiungi Riga</a>
    <a href="#viewTable">Visualizza Tabella</a>
    <a href="#miniTableSection">Tabelle</a>
    <a href="#settings">Impostazioni</a>
  </nav>

  <h1>Gestione Tabelle</h1>

  <!-- SEZIONE IMPOSTAZIONI -->
  <section id="settings" class="section">
    <h2>Impostazioni</h2>
    <form id="settingsForm">
      <label for="baseUrlInput">Base URL API</label>
      <input id="baseUrlInput" name="baseUrlInput" type="text" required value="http://localhost:8080" placeholder="Inserisci URL base API" />
      <button type="submit">Salva</button>
    </form>
  </section>

  <!-- SEZIONE CREA TABELLA -->
  <section id="createTable" class="section">
    <h2>Crea Nuova Tabella</h2>
    <form id="tableForm">
      <label for="tableName">Nome Tabella</label>
      <input id="tableName" name="tableName" type="text" required placeholder="Inserisci nome tabella" />

      <label for="headers">Colonne (separate da virgola)</label>
      <textarea id="headers" name="headers" rows="3" required placeholder="es: id, nome, cognome, etÃ "></textarea>

      <button type="submit">Crea Tabella</button>
    </form>
    <pre id="responseOutput"></pre>
  </section>

  <!-- SEZIONE AGGIUNGI RIGA -->
  <section id="addRow" class="section">
    <h2>Aggiungi Riga</h2>
    <label for="tableSelectForRow">Seleziona Tabella</label>
    <select id="tableSelectForRow"></select>

    <div id="headersRow" style="margin: 10px 0; font-weight: bold;"></div>

    <form id="addRowForm">
      <label for="valuesInput">Valori (separati da virgola)</label>
      <input id="valuesInput" name="valuesInput" type="text" required placeholder="es: 1, Mario, Rossi, 25" />
      <button type="submit">Aggiungi Riga</button>
    </form>
    <pre id="addRowResponse"></pre>
  </section>

  <!-- SEZIONE VISUALIZZA TABELLA -->
  <section id="viewTable" class="section">
    <h2>Visualizza Tabella</h2>
    <label for="tableSelect">Seleziona Tabella</label>
    <select id="tableSelect"></select>
    <button onclick="refreshTable()">Aggiorna Tabella</button>
    <div id="error" style="color:red; margin-top: 10px;"></div>
    <table id="tableData" border="1" style="margin-top: 10px; width: 100%; border-collapse: collapse;"></table>
  </section>

  <!-- MINI TABELLA -->
  <section id="miniTableSection" class="section">
    <h2>Tabelle Disponibili</h2>
    <table id="miniTable" border="1" style="border-collapse: collapse; width: 100%; display:none;">
      <thead>
        <tr>
          <th>Nome Tabella</th>
          <th>Azioni</th>
        </tr>
      </thead>
      <tbody id="miniTableBody"></tbody>
    </table>
  </section>

  <script src="unique.js"></script>
</body>
</html>
